/* =========================================
   1. LAUNCHER (ลูกแก้ว)
   ========================================= */
.nexus-launcher {
    position: fixed;
    /* ตำแหน่ง: มุมขวาบน */
    top: 5vh;
    right: 2vw;
    
    /* ขนาดเล็ก */
    width: 35px;
    height: 35px;
    
    /* ดีไซน์ปกติ: สีเข้มจางๆ ขอบชมพูอ่อนมาก (ตามสั่ง) */
    background: rgba(0, 0, 0, 0.3); /* ดำจางๆ */
    border: 1px solid rgba(255, 182, 193, 0.3); /* ขอบชมพูจางๆ */
    box-shadow: none; /* ปกติไม่เรืองแสง */
    border-radius: 50%;
    
    /* ไอคอนข้างใน */
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    color: rgba(255, 255, 255, 0.7); /* สีไอคอนขาวนวล */
    
    cursor: pointer;
    z-index: 20000;
    user-select: none;
    touch-action: none;
    
    /* หมุนช้าๆ ตลอดเวลา */
    animation: slowSpin 10s linear infinite;
    transition: all 0.2s ease;
}

/* เอฟเฟกต์ตอนกด (Active) : ขอบเรืองแสงวาบขึ้นมา */
.nexus-launcher:active, .nexus-launcher.hover-active {
    border-color: rgba(255, 105, 180, 1.0); /* ขอบชัดขึ้น */
    box-shadow: 0 0 15px rgba(255, 105, 180, 0.8); /* เรืองแสงสีชมพูฟุ้งๆ */
    background: rgba(0, 0, 0, 0.8);
    transform: scale(0.95); /* ยุบลงนิดนึง */
}

@keyframes slowSpin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* =========================================
   2. MAIN WINDOW (หน้าต่างหลัก)
   ========================================= */
.nexus-window {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    
    width: 95vw;
    height: 80vh;
    
    /* แก้ไขเรื่องสีเขียวกินตา: ใช้พื้นหลังดำทึบขึ้น ตัดแสงฟุ้งออก */
    background: #020a02; /* ดำเขียวเข้มมาก (เกือบดำสนิท) */
    border: 1px solid #00ff41; /* เส้นขอบเขียวคมๆ */
    box-shadow: 0 0 10px rgba(0, 20, 0, 0.8); /* เงาดำ ตัดขอบให้ชัด */
    
    color: #00ff41; /* ตัวหนังสือสีเขียว Matrix */
    z-index: 20001;
    flex-direction: column;
    font-family: 'Consolas', 'Courier New', monospace;
    
    /* เอาความเบลอออกเล็กน้อยเพื่อให้ตัวหนังสือชัด */
    backdrop-filter: none; 
    border-radius: 4px;
}

/* Header */
.nexus-header {
    background: #001100; /* พื้นหลัง Header เข้ม */
    padding: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #004411; /* เส้นแบ่งจางๆ */
}

/* ปุ่มควบคุม */
.nexus-btn {
    background: #000;
    border: 1px solid #005511;
    color: #00aa22;
    padding: 4px 10px;
    font-size: 11px;
    cursor: pointer;
    text-transform: uppercase;
}

.nexus-btn.active {
    background: #00ff41;
    color: #000;
    border-color: #00ff41;
    font-weight: bold;
}

.nexus-btn.danger {
    border-color: #880022;
    color: #ff3355;
}

/* Body Content */
.nexus-body {
    flex: 1;
    overflow-y: auto;
    padding: 15px;
    background: #020a02;
}

h3 {
    border-bottom: 1px solid #004411;
    color: #ccffcc; /* หัวข้อสีขาวอมเขียว อ่านง่าย */
    margin-top: 0;
    padding-bottom: 5px;
}

/* Footer */
.nexus-footer {
    display: flex;
    background: #000;
    border-top: 1px solid #004411;
    overflow-x: auto;
}

.nav-tab {
    flex: 1;
    padding: 12px 5px;
    text-align: center;
    border-right: 1px solid #002205;
    font-size: 12px;
    color: #006611; /* สีตอนยังไม่เลือก (เขียวมืด) */
    cursor: pointer;
}

.nav-tab.active {
    background: #001a05;
    color: #00ff41; /* สีตอนเลือก (เขียวสว่าง) */
    border-top: 2px solid #00ff41;
}
